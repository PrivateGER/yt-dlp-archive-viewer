{{define "head"}}
    <title>ytdlp-viewer | {{.FileCount}} videos</title>
{{end}}

{{define "body"}}
<div>
    <h1>yt-dlp Viewer</h1>
    <h2>{{.FileCount}} files in this archive</h2>

    <form action="/search" method="get">
        <label>
            Search term:
            <input type="text" name="term" required>
        </label>
    </form>

    {{ if .ShowingAll }}
        <br />Showing <b>all</b> {{.FileCount}} videos.
    {{ else }}
        <br />Only up to 100 random videos are shown. <a href="/?all=1">Show all videos.</a>
    {{ end }}

    {{range .Files}}
        <p><a href="/view?id={{.Id}}">{{.Id}} - {{.Title}}</a>
            {{ if .Metadata.Channel }} [M] {{ end }}
            {{ if .Metadata.Channel }} - {{.Metadata.Channel }} {{ end }}<br /></p>
    {{end}}
</div>
{{end}}
